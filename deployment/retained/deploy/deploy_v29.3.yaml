---
# ==============================================================================
# AIsatoshi V29.3 - ä¿®å¤ chat action åˆ†æ®µå‘é€
# ==============================================================================
#
# ğŸ“‹ ç‰ˆæœ¬å†å² (Version History):
# ==============================================================================
#
# V29.3 (2026-02-15) - ğŸ”§ ä¿®å¤ chat action åˆ†æ®µå‘é€
# ------------------------
# âœ… parse_mode=None æ—¶ä¸å‘é€è¯¥å­—æ®µ
# âœ… è®°å¿†æ£€ç´¢å¢å¼ºï¼šURL å˜ä½“åŒ¹é…
# âœ… ã€æœ€è¿‘æµè§ˆè®°å½•ã€‘ä¼˜å…ˆçº§æœ€é«˜
# âœ… ä»£è¯å¤„ç†ï¼š"è¿™ä¸ªç½‘ç«™"ã€"å®ƒ" â†’ ä»æœ€è¿‘æµè§ˆè®°å½•æ‰¾
# âœ… chat action åˆ†æ®µå‘é€ï¼ˆ3000å­—ç¬¦/æ®µï¼‰+ parse_mode=None
# âœ… é•œåƒ: pancakekevin911/aisatoshi:v29.3
#
# V29.1 (2026-02-15) - ğŸ”§ ä¿®å¤ parse_mode + è®°å¿†æ£€ç´¢å¢å¼º
# ------------------------
# âœ… parse_mode=None æ—¶ä¸å‘é€è¯¥å­—æ®µï¼ˆä¿®å¤ "unsupported parse_mode" é”™è¯¯ï¼‰
# âœ… è®°å¿†æ£€ç´¢å¢å¼ºï¼šURL å˜ä½“åŒ¹é…ï¼ˆclawnch -> clawn.chï¼‰
# âœ… AI prompt ä¼˜åŒ–ï¼šè®°å¿†ä¸­æœ‰å†…å®¹æ—¶ç›´æ¥å›ç­”ï¼Œä¸é‡æ–°æµè§ˆ
# âœ… é•œåƒ: pancakekevin911/aisatoshi:v29.3
#
# V29.0 (2026-02-15) - ğŸ”§ ä¿®å¤ Telegram è§£æé”™è¯¯ + å®Œæ•´è®°å¿†å­˜å‚¨
# ------------------------
# âœ… parse_mode=None (çº¯æ–‡æœ¬ï¼Œé¿å… Telegram è§£æé”™è¯¯)
# âœ… å­˜å‚¨å®Œæ•´åˆ†æç»“æœåˆ°è®°å¿†ï¼ˆè€Œä¸ä»…ä»…æ˜¯æ‘˜è¦ï¼‰
# âœ… ç¬¬äºŒæ¬¡è¯¢é—®æ—¶ä»è®°å¿†è¯»å–ï¼Œä¸å†é‡æ–°æµè§ˆ
# âœ… é•œåƒ: pancakekevin911/aisatoshi:v29.0
#
# ==============================================================================
#
# ğŸ” å‡­è¯çŠ¶æ€ (2025-02-14):
# - AI_PRIVATE_KEY: âœ… æ–°é’±åŒ… (æœªæ³„éœ²)
# - TELEGRAM_BOT_TOKEN: âœ… æ–° bot (æœªæ³„éœ²)
# - GEMINI_API_KEY: âœ… æ–° key (æœªæ³„éœ²)
# - MOLTBOOK_API_KEY: âš ï¸  åŸæœ‰ key (å·²æš´éœ²ä½†ä¿ç•™ä½¿ç”¨)
#
# ==============================================================================

version: "2.0"

services:
  aisatoshi:
    # é•œåƒç‰ˆæœ¬ - V29.3 ä¿®å¤ parse_mode + è®°å¿†æ£€ç´¢ (2026-02-15)
    image: pancakekevin911/aisatoshi:v29.3

    # ğŸ” æ–°å‡­è¯ (2025-02-14 å®‰å…¨é‡ç½®)
    env:
      # === å¿…éœ€é…ç½® ===
      # æ–°é’±åŒ…ç§é’¥ - 2025-02-14 ç”Ÿæˆ
      - AI_PRIVATE_KEY=b5860e25ca4f4b625e9c4c293f0f20d6a849dbd94499951794490dd31fc0f857

      # æ–° Gemini API Key - 2025-02-14 ç”Ÿæˆ
      - GEMINI_API_KEY=AIzaSyDQBaSyRvHXlehD_nNfyn5nHxh-o5UP-2Y

      # æ–° Telegram Bot Token - 2025-02-14 ç”Ÿæˆ
      - TELEGRAM_BOT_TOKEN=8247983622:AAExJZBnjQk0LrPzS31qcYw-FEREuKS7b7Y

      # === å¯é€‰é…ç½® ===
      # Moltbook API Key - ä¿ç•™åŸæœ‰ (å·²æš´éœ²ä½†ç»§ç»­ä½¿ç”¨)
      - MOLTBOOK_API_KEY=moltbook_sk_FA4mnPQdCG933ndWKYwq3zZ025YppW3e

      # Telegram ç”¨æˆ· Chat ID (å¯é€‰ï¼Œè‡ªåŠ¨æ£€æµ‹)
      - TELEGRAM_USER_ID=

      # === è¿è¡Œé…ç½® ===
      - LOG_LEVEL=DEBUG

      # æ•°æ®ç›®å½•é…ç½®
      - DATA_DIR=/app/data
      - WORKSPACE_DIR=/app/workspace

      # Gemini æ¨¡å‹é…ç½®
      - GEMINI_MODEL=gemini-3-pro-preview
      - GEMINI_TIMEOUT=180

    expose:
      - port: 80
        as: 80
        to:
          - global: true

profiles:
  compute:
    aisatoshi:
      resources:
        cpu:
          units: 0.5
        memory:
          size: 2Gi
        storage:
          size: 2Gi

  placement:
    akash:
      attributes:
        host: akash
      signedBy:
        anyOf:
          - "akash1365yvmc4s7awdyj3n2sav7xfx76adc6dnmlx63"
      pricing:
        aisatoshi:
          denom: uakt
          amount: 5000

deployment:
  aisatoshi:
    akash:
      profile: aisatoshi
      count: 1
