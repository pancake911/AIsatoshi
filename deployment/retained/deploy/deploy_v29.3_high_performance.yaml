---
# =============================================================================
# AIsatoshi V29.3 - é«˜æ€§èƒ½é…ç½® (ä¼˜åŒ–å“åº”é€Ÿåº¦)
# =============================================================================
#
# ğŸ“‹ ç‰ˆæœ¬: V29.3-clean (2026-02-15)
# ğŸ”§ æ€§èƒ½ä¼˜åŒ–é…ç½®
#
# èµ„æºé…ç½®ï¼š
# - CPU: 2 units (4x åŸé…ç½®)
# - Memory: 8Gi (4x åŸé…ç½®)
# - Storage: 4Gi (2x åŸé…ç½®)
#
# é¢„ä¼°æˆæœ¬ (Akash Network):
# - åŸé…ç½®: ~5000 uakt/å°æ—¶ = ~$0.50-1.00/å¤©
# - æ–°é…ç½®: ~20000 uakt/å°æ—¶ = ~$2.00-4.00/å¤©
#
# =============================================================================

version: "2.0"

services:
  aisatoshi:
    # é•œåƒç‰ˆæœ¬ - V29.3-clean é«˜æ€§èƒ½ç‰ˆ (2026-02-15)
    image: pancakekevin911/aisatoshi:v29.3-clean

    # ğŸ” æ–°å‡­è¯ (2025-02-14 å®‰å…¨é‡ç½®)
    env:
      # === å¿…éœ€é…ç½® ===
      # æ–°é’±åŒ…ç§é’¥ - 2025-02-14 ç”Ÿæˆ
      - AI_PRIVATE_KEY=b5860e25ca4f4b625e9c4c293f0f20d6a849dbd94499951794490dd31fc0f857

      # æ–° Gemini API Key - 2025-02-14 ç”Ÿæˆ
      - GEMINI_API_KEY=AIzaSyDQBaSyRvHXlehD_nNfyn5nHxh-o5UP-2Y

      # æ–° Telegram Bot Token - 2025-02-14 ç”Ÿæˆ
      - TELEGRAM_BOT_TOKEN=8247983622:AAExJZBnjQk0LrPzS31qcYw-FEREuKS7b7Y

      # === å¯é€‰é…ç½® ===
      # Moltbook API Key - ä¿ç•™åŸæœ‰ (å·²æš´éœ²ä½†ç»§ç»­ä½¿ç”¨)
      - MOLTBOOK_API_KEY=moltbook_sk_FA4mnPQdCG933ndWKYwq3zZ025YppW3e

      # Telegram ç”¨æˆ· Chat ID (å¯é€‰ï¼Œè‡ªåŠ¨æ£€æµ‹)
      - TELEGRAM_USER_ID=

      # === è¿è¡Œé…ç½® ===
      - LOG_LEVEL=DEBUG

      # æ•°æ®ç›®å½•é…ç½®
      - DATA_DIR=/app/data
      - WORKSPACE_DIR=/app/workspace

      # Gemini æ¨¡å‹é…ç½®
      - GEMINI_MODEL=gemini-3-pro-preview
      - GEMINI_TIMEOUT=180

    expose:
      - port: 80
        as: 80
        to:
          - global: true

profiles:
  compute:
    aisatoshi:
      resources:
        cpu:
          units: 2.0        # 4x æ€§èƒ½æå‡
        memory:
          size: 8Gi          # 4x å†…å­˜
        storage:
          size: 4Gi         # 2x å­˜å‚¨

  placement:
    akash:
      attributes:
        host: akash
      signedBy:
        anyOf:
          - "akash1365yvmc4s7awdyj3n2sav7xfx76adc6dnmlx63"
      pricing:
        aisatoshi:
          denom: uakt
          amount: 20000        # 4x å‡ºä»· (æ›´æ˜“è·å¾—èµ„æº)

deployment:
  aisatoshi:
    akash:
      profile: aisatoshi
      count: 1
