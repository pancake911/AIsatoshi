---
# ==============================================================================
# AIsatoshi V29.0 - ä¿®å¤ Telegram è§£æé”™è¯¯ + å®Œæ•´è®°å¿†å­˜å‚¨
# ==============================================================================
#
# ğŸ“‹ ç‰ˆæœ¬å†å² (Version History):
# ==============================================================================
#
# V29.0 (2026-02-15) - ğŸ”§ ä¿®å¤ Telegram è§£æ + å®Œæ•´è®°å¿†å­˜å‚¨
# ------------------------
# âœ… parse_mode=None (çº¯æ–‡æœ¬ï¼Œé¿å… Telegram è§£æé”™è¯¯)
# âœ… å­˜å‚¨å®Œæ•´åˆ†æç»“æœåˆ°è®°å¿†ï¼ˆè€Œä¸ä»…ä»…æ˜¯æ‘˜è¦ï¼‰
# âœ… ç¬¬äºŒæ¬¡è¯¢é—®æ—¶ä»è®°å¿†è¯»å–ï¼Œä¸å†é‡æ–°æµè§ˆ
# âœ… é•œåƒ: pancakekevin911/aisatoshi:v29.0
#
# V28.9 (2025-02-15) - æ·±åº¦æµè§ˆç»“æœå­˜å‚¨åˆ°è®°å¿† + DEBUGæ—¥å¿—
# ------------------------
# âœ… æ·»åŠ send_messageè¯¦ç»†æ—¥å¿—ï¼ˆSendMsgæ ‡ç­¾ï¼‰
# âœ… å¯ç”¨DEBUGæ—¥å¿—çº§åˆ«
# âœ… è®°å½•Telegram APIå“åº”è¯¦æƒ…
# âœ… é•œåƒ: pancakekevin911/aisatoshi:v28.9
#
# V28.8 (2025-02-15) - ä½¿ç”¨çº¯æ–‡æœ¬æ¨¡å¼ + DEBUGæ—¥å¿—
# ------------------------
# âœ… æ·»åŠ send_messageè¯¦ç»†æ—¥å¿—ï¼ˆSendMsgæ ‡ç­¾ï¼‰
# âœ… å¯ç”¨DEBUGæ—¥å¿—çº§åˆ«
# âœ… è®°å½•Telegram APIå“åº”è¯¦æƒ…
# âœ… é•œåƒ: pancakekevin911/aisatoshi:v28.8
#
# V28.4 (2025-02-15) - ğŸ” AIåˆ†æè¯Šæ–­å¢å¼º
# ------------------------
# âœ… æ·»åŠ è¯¦ç»†AIåˆ†ææ—¥å¿—ï¼ˆAPIè¿”å›ç»“æ„ã€candidatesæ•°é‡ã€partsæ•°é‡ã€åˆ†æç»“æœé•¿åº¦ï¼‰
# âœ… æ·»åŠ JSONè§£æå¼‚å¸¸æ•è·
# âœ… æ¯ä¸ªæ­¥éª¤éƒ½æœ‰æ—¥å¿—è®°å½•ï¼Œä¾¿äºè¯Šæ–­AIåˆ†æä¸å›å¤é—®é¢˜
# âœ… é•œåƒ: pancakekevin911/aisatoshi:v28.4
#
# V28.3-FIXED (2025-02-14) - ğŸ› æ·±åº¦ä¿®å¤
# ------------------------
# âœ… ä¿®å¤ return è¯­å¥ç¼©è¿›é”™è¯¯ï¼ˆç§»å› try å—å†…ï¼‰
# âœ… ä¿®å¤ except å—å­¤ç«‹é—®é¢˜ï¼ˆä¿®æ­£ç¼©è¿›ï¼‰
# âœ… æ·»åŠ  self.gemini_model æœªå®šä¹‰ä¿®å¤
# âœ… ç¡¬ç¼–ç æ¨¡å‹åç§°æ”¹ä¸ºç¯å¢ƒå˜é‡
# âœ… ä¿®å¤é“¾æ¥è¿‡æ»¤ bugï¼ˆç›¸å¯¹ URL è½¬ç»å¯¹ URLï¼‰
# âœ… é•œåƒ: pancakekevin911/aisatoshi:v28.3-fixed
#
# V28 (2025-02-14) - ğŸ”’ å®Œå…¨å®‰å…¨é‡ç½®
# ------------------------
#
# V27-SECURE (2025-02-14)
# ------------------------
# ğŸ”’ å®‰å…¨ä¿®å¤ç‰ˆæœ¬ - æ·»åŠ  .dockerignore
#
# V27 (2025-02-14)
# ----------------
# ğŸš€ å…¨æ–°æ¶æ„ V27 - è®°å¿†åŸç”Ÿ + ä»»åŠ¡ç»§æ‰¿åŸç”Ÿ + è¿›åŒ–å­¦ä¹ åŸç”Ÿ
#
# ==============================================================================
#
# ğŸ” å‡­è¯çŠ¶æ€ (2025-02-14):
# - AI_PRIVATE_KEY: âœ… æ–°é’±åŒ… (æœªæ³„éœ²)
# - TELEGRAM_BOT_TOKEN: âœ… æ–° bot (æœªæ³„éœ²)
# - GEMINI_API_KEY: âœ… æ–° key (æœªæ³„éœ²)
# - MOLTBOOK_API_KEY: âš ï¸  åŸæœ‰ key (å·²æš´éœ²ä½†ä¿ç•™ä½¿ç”¨)
#
# ==============================================================================

version: "2.0"

services:
  aisatoshi:
    # é•œåƒç‰ˆæœ¬ - V29.0 ä¿®å¤ Telegram è§£æ + å®Œæ•´è®°å¿†å­˜å‚¨ (2026-02-15)
    image: pancakekevin911/aisatoshi:v29.0

    # ğŸ” æ–°å‡­è¯ (2025-02-14 å®‰å…¨é‡ç½®)
    env:
      # === å¿…éœ€é…ç½® ===
      # æ–°é’±åŒ…ç§é’¥ - 2025-02-14 ç”Ÿæˆ
      - AI_PRIVATE_KEY=b5860e25ca4f4b625e9c4c293f0f20d6a849dbd94499951794490dd31fc0f857

      # æ–° Gemini API Key - 2025-02-14 ç”Ÿæˆ
      - GEMINI_API_KEY=AIzaSyDQBaSyRvHXlehD_nNfyn5nHxh-o5UP-2Y

      # æ–° Telegram Bot Token - 2025-02-14 ç”Ÿæˆ
      - TELEGRAM_BOT_TOKEN=8247983622:AAExJZBnjQk0LrPzS31qcYw-FEREuKS7b7Y

      # === å¯é€‰é…ç½® ===
      # Moltbook API Key - ä¿ç•™åŸæœ‰ (å·²æš´éœ²ä½†ç»§ç»­ä½¿ç”¨)
      - MOLTBOOK_API_KEY=moltbook_sk_FA4mnPQdCG933ndWKYwq3zZ025YppW3e

      # Telegram ç”¨æˆ· Chat ID (å¯é€‰ï¼Œè‡ªåŠ¨æ£€æµ‹)
      - TELEGRAM_USER_ID=

      # === è¿è¡Œé…ç½® ===
      - LOG_LEVEL=DEBUG

      # æ•°æ®ç›®å½•é…ç½®
      - DATA_DIR=/app/data
      - WORKSPACE_DIR=/app/workspace

      # Gemini æ¨¡å‹é…ç½®
      - GEMINI_MODEL=gemini-3-pro-preview
      - GEMINI_TIMEOUT=180

    expose:
      - port: 80
        as: 80
        to:
          - global: true

profiles:
  compute:
    aisatoshi:
      resources:
        cpu:
          units: 0.5
        memory:
          size: 2Gi
        storage:
          size: 2Gi

  placement:
    akash:
      attributes:
        host: akash
      signedBy:
        anyOf:
          - "akash1365yvmc4s7awdyj3n2sav7xfx76adc6dnmlx63"
      pricing:
        aisatoshi:
          denom: uakt
          amount: 5000

deployment:
  aisatoshi:
    akash:
      profile: aisatoshi
      count: 1
